# Habit Tracker PWA

## Overview

A single-page Progressive Web App for tracking daily habits. Fully offline-capable, installable on mobile, all data stored in `localStorage`. Deployed to GitHub Pages.

## Project Structure

```
habit_tracking/
├── index.html       # Full app (HTML + CSS + JS inline, ~526 lines)
├── sw.js            # Service Worker for offline caching (cache-first)
├── manifest.json    # PWA manifest (name, icons, display, theme)
├── icon-192.png     # App icon 192×192 (purple gradient + checkmark)
├── icon-512.png     # App icon 512×512
└── README.md        # Project documentation
```

## Key Architecture Decisions

- **Single file app**: All HTML, CSS, and JS live in `index.html` — no build tools, no frameworks, zero dependencies
- **localStorage**: Data persisted under key `habit_tracker_data` as JSON — habits array where each habit has a `name` and `completed` dates array
- **Service Worker** (`sw.js`): Cache-first strategy. Caches `./`, `./index.html`, `./manifest.json`, `./icon-192.png`, `./icon-512.png` on install. Cache name: `habit-tracker-v1` — bump this to force cache refresh
- **PWA manifest**: Standalone display mode, portrait orientation, purple theme (`#6C3CE1`), dark background (`#0f0f1a`)
- **Icons**: Generated via Python script (not checked in) — purple-to-blue gradient circle with white checkmark

## UI Components

| Component | Description |
|---|---|
| Header | App title with gradient text + current date display |
| Stats bar | Three stat cards: Done Today, Total habits, Best Streak |
| Habit list | Cards with check button, name, streak counter, 7-day dot visualization, delete button |
| Empty state | Shown when no habits exist — emoji + guidance text |
| FAB | Floating "+" button (bottom-right) to add new habits |
| Modal | Bottom-sheet style modal for entering new habit name (slide-up animation, backdrop blur) |

## Data Format

```json
{
  "habits": [
    {
      "name": "Exercise 30 min",
      "completed": ["2026-02-17", "2026-02-18"]
    }
  ]
}
```

## Key Functions (in `index.html` `<script>`)

| Function | Purpose |
|---|---|
| `load()` | Read habits from `localStorage`, returns `{ habits: [] }` on error |
| `save(data)` | Write habits to `localStorage` |
| `today()` | Returns today's date as `YYYY-MM-DD` string |
| `calcStreak(completedDates)` | Calculates consecutive-day streak (up to 365 days back) |
| `last7Days(completedDates)` | Returns boolean array of last 7 days' completion status |
| `render()` | Re-renders entire habit list, stats, and date display |
| `toggleHabit(index)` | Toggles today's completion for a habit |
| `deleteHabit(index)` | Deletes a habit (with `confirm()` prompt) |
| `addHabit(name)` | Adds a new habit with empty `completed` array |
| `escapeHtml(str)` | XSS protection — escapes HTML entities |

## Design System

- **Font**: Inter (Google Fonts) with system fallbacks
- **Theme**: Dark glassmorphism
  - `--bg: #0f0f1a` (background)
  - `--surface: #1a1a2e` (cards)
  - `--accent: #6C3CE1` (purple accent)
  - `--green: #22c55e` (completion color)
  - `--danger: #ef4444` (delete)
- **Animations**: Pop effect on check, slide-up modal, scale-on-press cards
- **Border radius**: `16px` standard

## Deployment

- **Hosted via GitHub Pages** at `https://abdokaseb.github.io/habit-tracker/`
- **Repo**: `https://github.com/abdokaseb/habit-tracker.git`
- **Branch**: `main`, root folder
- To update: push changes to `main` — GitHub Pages auto-deploys

## Development

- No build step — edit `index.html` directly
- Test locally: `python -m http.server 8080` from this directory
- Access from phone on same Wi-Fi: `http://<your-pc-ip>:8080`
- PWA install requires HTTPS (GitHub Pages provides this; local dev won't support install)
- To force Service Worker update: bump `CACHE_NAME` version in `sw.js`
